;; title: TDoc test runner 

(use std    (equals? ))
(use io     (emit!   ))
(use format/tdoc ({parse:parse-tdoc} ))

(join
	;; We get the expected result and the code
	{run/expect[0]:A}
	;; We get the code node and process it as a TDoc
	;; document. This returns a tree.
	{run/code[0] | parse-tdoc) :B}
) | (then 
	;; We test equality of the tree and emit the result, which
	;; is a boolean.
	(equals? A B) | emit!
)

;; EOF
